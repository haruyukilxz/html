{"attributes":{"title":"Dock插件开发<等待填坑>","date":"2018-05-23T05:22:12.000Z","tags":"Linux"},"body":"从零构建 dde-dock 的插件\r\n本教程将展示一个简单的 dde-dock 插件的开发过程，插件开发者可跟随此步骤为 dde-dock 创造出更多具有丰富功能的插件。\r\n在本教程中，将创建一个可以实时显示用户家目录(~/)使用情况的小工具。\r\n插件的工作原理\r\ndde-dock 插件本质是一个按 Qt 插件标准所开发的共享库文件(so)。通过 dde-dock 预定的规范与提供的接口，共同完成 dde-dock 的功能扩展。\r\n准备环境\r\n插件的开发环境可以是任意的，只要是符合 Qt 插件规范及 dde-dock 插件规范的共享库文件，都可以被当作 dde-dock 插件载入。下面以 Qt + qmake 为例进行说明：\r\n安装依赖\r\n以 Deepin 15.5.1 环境为基础，至少先安装如下的包：\r\n- dde-dock-dev\r\n- qt5-qmake\r\n- qtbase5-dev-tools\r\n- libqt5core5a\r\n- libqt5widgets5\r\n- pkg-config\r\n基本的项目结构\r\n创建必需的项目目录与文件\r\n插件名称叫做home_monitor，所以创建以下的目录结构：\r\n```\r\nhome_monitor\r\n├── home_monitor.json\r\n├── homemonitorplugin.cpp\r\n├── homemonitorplugin.h\r\n└── home_monitor.pro\r\n ```\r\n\r\n","id":"c336284ddfdff555d6b5585d1681b2bd","link":"/2018/05/23/Dock插件开发<等待填坑>"}